<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>ì†Œì› íŠ¸ë¦¬</title>
<style>
    body {
        font-family: Arial; background: #222; color: white;
        text-align: center; padding-top: 40px;
    }
    h1 { margin-bottom: 20px; font-size: 32px; }
    #tree {
        width: 350px; height: 500px; margin: 0 auto;
        background: #2f8f2f; border-radius: 15px; padding: 20px;
        overflow-y: auto; position: relative; box-shadow: 0 0 15px rgba(0,0,0,0.5);
    }
    .wish-card {
        background: #ffe36e; padding: 12px 14px; margin: 10px 0;
        color: #333; border-radius: 12px; font-size: 18px; font-weight: bold;
        animation: pop 0.3s ease-out; word-break: keep-all;
    }
    @keyframes pop {
        0% { transform: scale(0.7); opacity: 0; }
        100% { transform: scale(1); opacity: 1; }
    }
</style>
</head>
<body>

<h1>ğŸ„ ì‹¤ì‹œê°„ ì†Œì› íŠ¸ë¦¬ ğŸ„</h1>
<p>ëˆ„êµ°ê°€ ì†Œì›ì„ ë³´ë‚´ë©´ ì—¬ê¸° ë‹¬ë¦½ë‹ˆë‹¤ âœ¨</p>
<div id="tree"></div>

<script>
// ë°©ê¸ˆ ë§Œë“œì‹  AWS ì£¼ì†Œì…ë‹ˆë‹¤!
const WSS_URL = "wss://12spzvb7ok.execute-api.ap-southeast-2.amazonaws.com/production/";
const ws = new WebSocket(WSS_URL);

ws.onopen = () => console.log("ğŸ“¡ ì„œë²„ ì—°ê²° ì„±ê³µ! (tree)");

ws.onmessage = (event) => {
    console.log("ğŸ“© ë©”ì‹œì§€ ë„ì°©:", event.data);
    try {
        const data = JSON.parse(event.data);
        if (data.message) {
            addWish(data.message);
        }
    } catch (e) {
        console.log("ë¬´ì‹œëœ ë©”ì‹œì§€:", event.data);
    }
};

function addWish(text) {
    const div = document.createElement("div");
    div.className = "wish-card";
    div.textContent = text;
    
    const tree = document.getElementById("tree");
    tree.appendChild(div);
    tree.scrollTop = tree.scrollHeight; // ìë™ ìŠ¤í¬ë¡¤
}
</script>
</body>
</html>